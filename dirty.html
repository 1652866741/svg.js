
<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <title></title>
  <script type="text/javascript" src="dist/svg.js"></script>
  <script type="text/javascript" src="src/morph.js"></script>
  <script type="text/javascript" src="src/timeline.js"></script>
</head>
<body style="background-color: #c7c7ff">

<!-- Making the svg -->
<svg width=1000px height=1000px >
  <rect x=50 y=100 width=200 height=100 stroke=white stroke-width=2 />
</svg>

<!-- Modifying the svg -->
<script>


let rect = SVG('rect')
let {sin, PI: pi, round, sqrt} = Math

function getColor(t) {
  let a = round(80 * sin(2 * pi * t / 0.5 + 0.01) + 150)
  let b = round(50 * sin(2 * pi * t / 0.5 + 4.6) + 200)
  let c = round(100 * sin(2 * pi * t / 0.5 + 2.3) + 150)
  let color = new SVG.Color(`rgb(${a}, ${b}, ${c})`).toString()
  return color
}

rect.animate(2000)
  .queue(
    () => {rect.attr('fill', getColor(0))},
    t => rect.transform({scale: sqrt(t), rotate: 720 * t})
  )
  .animate(1500, 500, true)
  .queue(()=> {}, t => rect.attr('fill', getColor(t)))
  .animate(1000).move(200, 200).size(300, 300)

// setTimeout(()=> { rect.animate().pause() }, 500)
// setTimeout(()=> { rect.animate().play() }, 2000)

</script>

</body>
</html>
